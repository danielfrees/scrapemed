<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>scrapemed package &mdash; scrapemed 1.0.8 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->

        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=aec50437"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="scrapemed" href="modules.html" />
</head>

<body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >



          <a href="index.html" class="icon icon-home">
            scrapemed
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">scrapemed</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">scrapemed package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-paper-module">scrapemed.paper module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-paperset-module">scrapemed.paperSet module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-parse-module">scrapemed._parse module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-scrape-module">scrapemed.scrape module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-scrapemed._clean">scrapemed._clean module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed-s-markup-language-cleaning-utilities">ScrapeMed’s Markup Language Cleaning Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._clean.clean_xml_string"><code class="docutils literal notranslate"><span class="pre">clean_xml_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._clean.split_text_and_refs"><code class="docutils literal notranslate"><span class="pre">split_text_and_refs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._clean.unexpectedTagWarning"><code class="docutils literal notranslate"><span class="pre">unexpectedTagWarning</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-validate-module">scrapemed._validate module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed-s-validate-module">ScrapeMed’s <code class="docutils literal notranslate"><span class="pre">_validate</span></code> Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._validate.noDTDFoundError"><code class="docutils literal notranslate"><span class="pre">noDTDFoundError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._validate.validate_xml"><code class="docutils literal notranslate"><span class="pre">validate_xml()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-text-module">scrapemed._text module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-morehtml-module">scrapemed._morehtml module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed-s-custom-markup-language-morehtml-mhtml">ScrapeMed’s Custom Markup Language - MoreHTML (MHTML)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._morehtml.generate_mhtml_tag"><code class="docutils literal notranslate"><span class="pre">generate_mhtml_tag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._morehtml.generate_typed_mhtml_tag"><code class="docutils literal notranslate"><span class="pre">generate_typed_mhtml_tag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._morehtml.remove_mhtml_tags"><code class="docutils literal notranslate"><span class="pre">remove_mhtml_tags()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed._morehtml.unescape_except"><code class="docutils literal notranslate"><span class="pre">unescape_except()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-scrapemed.utils">scrapemed.utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed-s-utility-module">ScrapeMed’s Utility Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed.utils.basicBiMap"><code class="docutils literal notranslate"><span class="pre">basicBiMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed.utils.cleanerdoc"><code class="docutils literal notranslate"><span class="pre">cleanerdoc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scrapemed.utils.reversedBiMapComparisonWarning"><code class="docutils literal notranslate"><span class="pre">reversedBiMapComparisonWarning</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scrapemed-trees-module">scrapemed.trees module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-scrapemed">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">scrapemed</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">scrapemed</a></li>
      <li class="breadcrumb-item active">scrapemed package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/scrapemed.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <section id="scrapemed-package">
<h1>scrapemed package<a class="headerlink" href="#scrapemed-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="scrapemed-paper-module">
<h2>scrapemed.paper module<a class="headerlink" href="#scrapemed-paper-module" title="Link to this heading"></a></h2>
</section>
<section id="scrapemed-paperset-module">
<h2>scrapemed.paperSet module<a class="headerlink" href="#scrapemed-paperset-module" title="Link to this heading"></a></h2>
</section>
<section id="scrapemed-parse-module">
<h2>scrapemed._parse module<a class="headerlink" href="#scrapemed-parse-module" title="Link to this heading"></a></h2>
</section>
<section id="scrapemed-scrape-module">
<h2>scrapemed.scrape module<a class="headerlink" href="#scrapemed-scrape-module" title="Link to this heading"></a></h2>
</section>
<section id="module-scrapemed._clean">
<span id="scrapemed-clean-module"></span><h2>scrapemed._clean module<a class="headerlink" href="#module-scrapemed._clean" title="Link to this heading"></a></h2>
<section id="scrapemed-s-markup-language-cleaning-utilities">
<h3>ScrapeMed’s Markup Language Cleaning Utilities<a class="headerlink" href="#scrapemed-s-markup-language-cleaning-utilities" title="Link to this heading"></a></h3>
<p>Scrapemed module for markup language cleaning utilities.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="scrapemed._clean.clean_xml_string">
<span class="sig-prename descclassname"><span class="pre">scrapemed._clean.</span></span><span class="sig-name descname"><span class="pre">clean_xml_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xml_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip_text_styling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scrapemed/_clean.html#clean_xml_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._clean.clean_xml_string" title="Link to this definition"></a></dt>
<dd><p>Clean an XML string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xml_string</strong> (<em>str</em>) – The XML string to be cleaned.</p></li>
<li><p><strong>strip_text_styling</strong> (<em>bool</em>) – Whether to remove or replace HTML text styling tags.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Whether to print verbose output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cleaned XML string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scrapemed._clean.split_text_and_refs">
<span class="sig-prename descclassname"><span class="pre">scrapemed._clean.</span></span><span class="sig-name descname"><span class="pre">split_text_and_refs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scrapemed.utils.basicBiMap" title="scrapemed.utils.basicBiMap"><span class="pre">basicBiMap</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_unknown</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'keep'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scrapemed/_clean.html#split_text_and_refs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._clean.split_text_and_refs" title="Link to this definition"></a></dt>
<dd><p>Split HTML tags out of text.</p>
<ul class="simple">
<li><p>HTML text styling tags will be removed if they aren’t already.</p></li>
<li><p>&lt;xref&gt;, &lt;table-wrap&gt;, and &lt;fig&gt; tags will be converted to MHTML tags containing
the key to use when searching for these references, tables, and figures.</p></li>
</ul>
<p>Returns the cleaned text and updates the passed BiMap for any new key-tag
pairs found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree_text</strong> (<em>str</em>) – A string representing a markup language tree containing
HTML tags.</p></li>
<li><p><strong>ref_map</strong> (<a class="reference internal" href="#scrapemed.utils.basicBiMap" title="scrapemed.utils.basicBiMap"><em>basicBiMap</em></a>) – A BiMap containing keys connected to reference tag values. BiMap
forward keys should be reference keys to place into the text in lieu of the
tag for later BiMap table lookup. BiMap forward values should be the
actual tags. The provided BiMap will be modified to reflect any new tag
values found, and keys will be appended as necessary.</p></li>
<li><p><strong>id</strong> (<em>Any</em><em>, </em><em>optional</em>) – Optionally provide an id for traceback of any issues.</p></li>
<li><p><strong>on_unknown</strong> (<em>str</em>) – Behavior when encountering an unknown tag. Determines
what happens to the tag contents.
Default is ‘keep’. Options: [‘drop’, ‘keep’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the cleaned text and the updated BiMap.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[str, <a class="reference internal" href="#scrapemed.utils.basicBiMap" title="scrapemed.utils.basicBiMap">basicBiMap</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="scrapemed._clean.unexpectedTagWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scrapemed._clean.</span></span><span class="sig-name descname"><span class="pre">unexpectedTagWarning</span></span><a class="reference internal" href="_modules/scrapemed/_clean.html#unexpectedTagWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._clean.unexpectedTagWarning" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Warning</span></code></p>
<p>Warned when an unexpected tag enclosed in angle brackets is found.</p>
</dd></dl>

</section>
<section id="scrapemed-validate-module">
<h2>scrapemed._validate module<a class="headerlink" href="#scrapemed-validate-module" title="Link to this heading"></a></h2>
<section id="scrapemed-s-validate-module">
<span id="module-scrapemed._validate"></span><h3>ScrapeMed’s <code class="docutils literal notranslate"><span class="pre">_validate</span></code> Module<a class="headerlink" href="#scrapemed-s-validate-module" title="Link to this heading"></a></h3>
<p>Validation module for determining whether XML conforms to a format
supported by the scrapemed package (NLM Articleset 2.0 DTD).</p>
<dl class="simple">
<dt><strong>Custom Exception</strong>:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">noDTDFoundError</span></code>: Raised when no DTD specification can be found in the</dt><dd><p>downloaded XML.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</section>
<dl class="py exception">
<dt class="sig sig-object py" id="scrapemed._validate.noDTDFoundError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scrapemed._validate.</span></span><span class="sig-name descname"><span class="pre">noDTDFoundError</span></span><a class="reference internal" href="_modules/scrapemed/_validate.html#noDTDFoundError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._validate.noDTDFoundError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when no DTD specification can be found in a downloaded XML,
preventing validation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scrapemed._validate.validate_xml">
<span class="sig-prename descclassname"><span class="pre">scrapemed._validate.</span></span><span class="sig-name descname"><span class="pre">validate_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xml</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ElementTree</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/scrapemed/_validate.html#validate_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._validate.validate_xml" title="Link to this definition"></a></dt>
<dd><p>Validate an XML ElementTree against a supported Document Type Definition
(DTD).</p>
<p>This function validates the provided XML ElementTree against a supported
DTD (Document Type Definition). The supported DTDs are defined by the files
in the ‘scrapemed/data/DTDs’ directory. Currently only NLM Articleset 2.0
(The DTD used by PubMed Central) is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>xml</strong> (<em>ET.ElementTree</em>) – An XML ElementTree to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the XML is validated successfully against a supported DTD,
False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#scrapemed._validate.noDTDFoundError" title="scrapemed._validate.noDTDFoundError"><strong>noDTDFoundError</strong></a> – If no DTD is specified for validation in the
XML doctype.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="scrapemed-text-module">
<h2>scrapemed._text module<a class="headerlink" href="#scrapemed-text-module" title="Link to this heading"></a></h2>
</section>
<section id="scrapemed-morehtml-module">
<h2>scrapemed._morehtml module<a class="headerlink" href="#scrapemed-morehtml-module" title="Link to this heading"></a></h2>
<section id="scrapemed-s-custom-markup-language-morehtml-mhtml">
<span id="module-scrapemed._morehtml"></span><h3>ScrapeMed’s Custom Markup Language - MoreHTML (MHTML)<a class="headerlink" href="#scrapemed-s-custom-markup-language-morehtml-mhtml" title="Link to this heading"></a></h3>
<p>Wrapper on basic functions for HTML manipulation.</p>
<p><strong>Added on top of core html functionality:</strong>
Non-markup significant unescape function, custom MHTML tag encoding and removal.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="scrapemed._morehtml.generate_mhtml_tag">
<span class="sig-prename descclassname"><span class="pre">scrapemed._morehtml.</span></span><span class="sig-name descname"><span class="pre">generate_mhtml_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scrapemed/_morehtml.html#generate_mhtml_tag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._morehtml.generate_mhtml_tag" title="Link to this definition"></a></dt>
<dd><p>Generates an MHTML tag from the provided string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em>) – The text to be tagged in MHTML format.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An MHTML tag containing the input string, in format
<cite>f”[MHTML::{string}]”</cite></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scrapemed._morehtml.generate_typed_mhtml_tag">
<span class="sig-prename descclassname"><span class="pre">scrapemed._morehtml.</span></span><span class="sig-name descname"><span class="pre">generate_typed_mhtml_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scrapemed/_morehtml.html#generate_typed_mhtml_tag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._morehtml.generate_typed_mhtml_tag" title="Link to this definition"></a></dt>
<dd><p>Generates a typed MHTML tag from the provided string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag_type</strong> (<em>str</em>) – The type of the MHTML tag.</p></li>
<li><p><strong>string</strong> (<em>str</em>) – The text to be tagged in MHTML format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A typed MHTML tag containing the input string, in format
<cite>[MHTML::type::string]</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scrapemed._morehtml.remove_mhtml_tags">
<span class="sig-prename descclassname"><span class="pre">scrapemed._morehtml.</span></span><span class="sig-name descname"><span class="pre">remove_mhtml_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/scrapemed/_morehtml.html#remove_mhtml_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._morehtml.remove_mhtml_tags" title="Link to this definition"></a></dt>
<dd><p>Removes all MHTML tags and typed MHTML tags found in the provided text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em>) – The text from which to remove MHTML tags.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The text with MHTML tags removed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scrapemed._morehtml.unescape_except">
<span class="sig-prename descclassname"><span class="pre">scrapemed._morehtml.</span></span><span class="sig-name descname"><span class="pre">unescape_except</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scrapemed/_morehtml.html#unescape_except"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed._morehtml.unescape_except" title="Link to this definition"></a></dt>
<dd><p>Convert all named and numeric character references in the provided string to
the corresponding Unicode characters, excluding any provided encodings to be
ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>str</em>) – The input string containing character references.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>Keyword arguments of the form key=encoding. These encodings
will be ignored when unescaping.</p>
<blockquote>
<div><blockquote>
<div><p>For keys with multiple encodings, use unique keynames.</p>
</div></blockquote>
<p>Encodings must be single code strings.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string with character references unescaped, except for the
specified encodings to be ignored.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p>This function uses the rules defined by the HTML 5 standard for both valid
and invalid character references, and the list of HTML 5 named character
references defined in html.entities.html5.</p>
</dd></dl>

</section>
<section id="module-scrapemed.utils">
<span id="scrapemed-utils-module"></span><h2>scrapemed.utils module<a class="headerlink" href="#module-scrapemed.utils" title="Link to this heading"></a></h2>
<section id="scrapemed-s-utility-module">
<h3>ScrapeMed’s Utility Module<a class="headerlink" href="#scrapemed-s-utility-module" title="Link to this heading"></a></h3>
<p>The <cite>utils</cite> module contains various utilities necessary for PMC data parsing and
cleaning, where the utilities are not directly related to text cleaning (<cite>_clean</cite>),
recursive text processing (<cite>_text</cite>), or parsing (<cite>_parse</cite>).</p>
<p>At the moment, the module contains a helper function for cleaning up docstrings,
and a class, basicBiMap, which is a two-way map similar to python’s dict class,
used for efficient storage of data reference maps used throughout ScrapeMed.</p>
<p>Note: Data reference maps are used to pull citations, tables, and figures out of
text for parsing elsewhere while retaining placeholders in the original text.</p>
<dl class="simple">
<dt>.warnings::</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><a class="reference internal" href="#scrapemed.utils.reversedBiMapComparisonWarning" title="scrapemed.utils.reversedBiMapComparisonWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">reversedBiMapComparisonWarning</span></code></a> - Warned when comparing</dt><dd><p>basicBiMaps which are exactly the same but reversed.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="scrapemed.utils.basicBiMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scrapemed.utils.</span></span><span class="sig-name descname"><span class="pre">basicBiMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scrapemed/utils.html#basicBiMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed.utils.basicBiMap" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>BiMap class which extends Python’s dict class to also store
a reverse of itself for efficiency.</p>
<p>This class allows for bidirectional mapping between keys and values.
When a key-value pair is added, it can be accessed both by key and by value.</p>
<p>Methods are inherited from the dict class, and additional methods
specific to bidirectional mapping are provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – <p>Positional arguments passed to the dict constructor.</p>
</p></li>
<li><p><strong>**kwargs</strong> – <p>Keyword arguments passed to the dict constructor.</p>
</p></li>
</ul>
</dd>
</dl>
<p>Example:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">bi_map</span> <span class="pre">=</span> <span class="pre">basicBiMap({'apple':</span> <span class="pre">'red',</span> <span class="pre">'banana':</span> <span class="pre">'yellow'})</span>
<span class="pre">print(bi_map['apple'])</span>&#160; <span class="pre">#</span> <span class="pre">Output:</span> <span class="pre">'red'</span>
<span class="pre">print(bi_map.reverse['red'])</span>&#160; <span class="pre">#</span> <span class="pre">Output:</span> <span class="pre">'apple'</span>
<span class="pre">`</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reverse</strong> (<em>dict</em>) – A reverse mapping from values to keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scrapemed.utils.cleanerdoc">
<span class="sig-prename descclassname"><span class="pre">scrapemed.utils.</span></span><span class="sig-name descname"><span class="pre">cleanerdoc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scrapemed/utils.html#cleanerdoc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed.utils.cleanerdoc" title="Link to this definition"></a></dt>
<dd><p>Wrapper for inspect.cleandoc which also removes newlines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<em>str</em>) – The string to clean and remove newlines from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cleaned and newline-removed string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="scrapemed.utils.reversedBiMapComparisonWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scrapemed.utils.</span></span><span class="sig-name descname"><span class="pre">reversedBiMapComparisonWarning</span></span><a class="reference internal" href="_modules/scrapemed/utils.html#reversedBiMapComparisonWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scrapemed.utils.reversedBiMapComparisonWarning" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Warning</span></code></p>
<p>Warned when comparing basicBiMaps which are exactly the same but reversed.</p>
</dd></dl>

</section>
<section id="scrapemed-trees-module">
<h2>scrapemed.trees module<a class="headerlink" href="#scrapemed-trees-module" title="Link to this heading"></a></h2>
</section>
<section id="module-scrapemed">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-scrapemed" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="scrapemed" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Daniel Frees.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>